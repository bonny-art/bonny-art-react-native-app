# Quick Start

## Requirements

- **Node.js** version 18 LTS or newer (the project was developed on Node 20).
- **npm** 9+ (bundled with Node.js).
- An Android/iOS emulator or the **Expo Go** app on a physical device if you plan to run the mobile version.

## Installation

1. Clone the repository and navigate to the project directory.
2. Install dependencies:

   ```bash
   npm install
   ```

3. If needed, clear the Expo cache and local mock-server data:

   ```bash
   npm run reset-project
   ```

## Running the App

1. Start the Expo dev server (Metro Bundler):

   ```bash
   npm start
   ```

2. In the Expo Dev Tools window choose how to run the app:
   - **Android**: launch an emulator, scan the QR code with Expo Go, or use `npm run android`.
   - **iOS** (macOS with Xcode): use `npm run ios` or Expo Go.
   - **Web**: open the app in a browser with `npm run web`.

> **Tip:** Before the first launch on a physical device, make sure your computer and phone are on the same Wi-Fi network.

## Script Reference

| Command                 | Purpose                                                                 |
| ----------------------- | ----------------------------------------------------------------------- |
| `npm start`             | Launches Expo Dev Tools and the Metro Bundler.                          |
| `npm run android`       | Opens the app on an Android emulator or a connected device.             |
| `npm run ios`           | Starts the app in the iOS Simulator (available on macOS only).          |
| `npm run web`           | Runs the web version of the app in a browser.                           |
| `npm run lint`          | Runs the Expo/ESLint linter on the codebase.                            |
| `npm run reset-project` | Clears the Expo cache, node_modules, and other temporary project files. |

---

# Завдання 1

## 1. Аналіз існуючого застосунку

Поточний застосунок функціонує як міні-магазин цифрових схем для вишивки та має базові можливості роботи з товарами, кошиком і обраними.

### Головний екран «Explore»

На головному екрані реалізовано карусель з популярними товарами, під якою розташовано блоки з категоріями. Кожна категорія представлена горизонтальним скролом на 5 позицій. При натисканні на картку відкривається модальне вікно з деталями, де можна додати товар до кошика чи списку обраних. У верхній панелі є швидкі переходи до кошика та обраного.

### Перегляд категорій

Екран категорій містить назву категорії та двоколонкову стрічку товарів з підтримкою нескінченного скролу. Заголовок зафіксовано у верхній частині, у ньому доступні кнопки для пошуку, сортування та фільтрації. Фільтр відкриває модальне вікно, де можна обрати діапазон кольорів, розміри чи типи ниток та застосувати або скинути вибір.

### Вкладка «Favorites»

Вкладка обраного містить список збережених товарів, який підвантажується частинами. Звідси можна швидко переглянути деталі товару у модальному вікні або відправити його у кошик. При видаленні товару зі списку обраних зміни застосовуються миттєво, без перезавантаження.

### Модальне вікно товару

Модальне вікно відображає галерею зображень, ціну, доступні розміри та кількість кольорів. Кнопка «Add to cart» додає товар у кошик або змінює стан, якщо він уже там присутній.

### Кошик і оформлення замовлення

На вкладці кошика показуються дані по кожній позиції, можливість змінювати кількість та підрахунок загальної суми. Кнопка переходу запускає процес оформлення з кількома кроками і фінальним повідомленням про успіх.

### Типові сценарії використання

1. Користувач відкриває головний екран, переглядає товари у стрічці, переходить до модального вікна конкретного товару, додає його до кошика, після чого переходить у кошик і розпочинає оформлення замовлення.
2. Користувач відкриває екран категорії, застосовує фільтри за розміром, переглядає результати, а пізніше переходить до вкладки обраного та редагує список збережених товарів.

## 2. Зони розширення функціональності

Для підвищення зручності та розширення можливостей застосунку можна розглянути наступні напрямки:

1. **Обліковий запис і аутентифікація.** Додати екрани входу та реєстрації, механізм збереження сесії та синхронізацію кошика й обраних із профілем користувача.
2. **Розширений пошук.** Реалізувати пошукове поле з підказками, історією запитів та передачею результатів у вигляді окремого екрану категорії.
3. **Синхронізація кошика та обраних.** Для незалогінених користувачів частина функцій може бути обмежена з поясненням причин. Після входу дані кошика й обраних повинні синхронізуватися із сервером.

---

# Завдання 2

## 1. Розширення функціоналу

### Нові функції

- З’явилися повноцінні екрани входу і реєстрації. Вони перевіряють форму, хешують пароль, створюють користувача через mock-API і зберігають сесію в AsyncStorage. Також при вході кошик зливається з даними профілю, щоб користувач не втрачав вибрані товари.
- Є окреме модальне вікно пошуку. Воно пам’ятає останні запити в AsyncStorage, дозволяє швидко підставити пошук для конкретної категорії і записує запит у Redux, щоб стрічка товарів одразу підхоплювала фільтр.
- Процес оформлення замовлення став кроком з формою. Тепер є валідація email і країни через Formik та Yup, обов’язкова згода, автоматичне підставлення пошти авторизованого користувача і перевірка, чи кориостувач залогінений перед оплатою.

### Керування станом

- До змін я мала тільки два зрізи Redux Toolkit: кошик і фільтри. Обидва слухали AsyncStorage, щоб зберігати товари і налаштування локально.
- Зараз з’явилися додаткові зрізи: auth для користувача та сесії і search для пошукових запитів по категоріях. Auth слідкує за сесією, синхронізує кошик з профілем і прибирає локальне збереження, коли коритсувач залогінений. Search тримає текст пошуку для кожної категорії, щоб екран міг показати правильні товари.
- Також я використовую окремий React Context, який зберігає вибір темної чи світлої теми. Через нього будь-який екран може перемкнути тему без зайвих пропсів.
- Я лишилася на Redux Toolkit, бо він вже стояв у проєкті, має зрозумілий синтаксис і дозволяє слухачам реагувати на дії. AsyncStorage обраний для локальної пам’яті: він працює на телефоні і не вимагає сервера, тому підходить для демо.

### Компонентний підхід

- Для авторизації зроблені окремі компоненти LoginForm і SignUpForm у власних папках. Вони використовують спільні поля TextField та кнопки, що живуть у шарі shared/ui і теж лежать у власних файлах.
- Кошик розкладено по модулях: CartScreen, CartItemRow і SuccessScreen тепер кожен у своїй теці з окремим файлом, стилями і типами. Це робить код читабельнішим і дозволяє перевикористати рядок товару в інших місцях.
- Розширено існуючі блоки на головних екранах: ProductCard, ProductModal і ProfileDrawerContent отримали додаткові пропси та логіку, але кожен компонент усе ще лежить у власному файлі зі стилями та константами поряд. Це допомагає тримати модульність і не змішувати різні частини інтерфейсу.

---

# Завдання 3. Покращення UX/UI

Якщо подивитись на попередню версію застосунку, помітно, що там інтерфейс більш «сирий». У теперішньому стані я підтягнула вигляд і поведінку кількома кроками.

1. **Форми і модалки стали акуратнішими.** Я винесла поля вводу у власний компонент TextField, який автоматично підбирає кольори теми, показує помилки та дозволяє безпечно приховувати або відкривати пароль, тож форми логіну й реєстрації виглядають однаково і зручні для користування. Підтвердження важливих дій тепер відбувається через ActionModal з напівпрозорим бекдропом, кнопками в єдиному стилі PrimaryButton та плавною анімацією зникнення, завдяки чому усі діалоги мають однаковий вигляд.

2. **Екрани отримали чіткі шапки і адаптацію під тему.** Наприклад, новий FavoritesScreen будує власний заголовок з кнопкою «назад», використовує стан авторизації, тематичні кольори та підключає ті самі кнопки і картки товарів, тому список обраних виглядає цілісно й у світлій, і в темній темі. Для стеку кошика я додала компактний header з акцентним кольором і безпечними відступами, що робить переходи між кроками замовлення більш плавними та читабельними.

3. **Навігація стала зрозумілішою.** Тепер я розвела всі шляхи в одному модулі, створила хелпери на кшталт toProductModal чи toCartSuccess і передаю параметри явними об’єктами, тому легко побачити, які екрани відкриваються і які дані їм потрібні. У кореневому екрані AuthGate я або показую спінер, або одразу перекидаю користувача в потрібний стек, тож зайвих миготінь між авторизацією та вкладками немає. Окремий стек модалок із presentation="modal" відповідає за плавні появи пошуку й перегляду товару, а нові модальні екрани (наприклад SearchModal) зчитують параметри через useLocalSearchParams і повертають результат у список, не гублячи контекст категорії. Нарешті, фінальний екран замовлення читає total із параметрів маршруту, які я передаю за допомогою toCartSuccess, і дозволяє одним натиском повернутися до вкладок без повторного введення даних.

---

# Екрани додатку

**Explore (головний екран)** – показує карусель топових товарів, секції за категоріями та швидкі дії InfoBar, а також обробляє сценарії переходу до обраного та кошика.

![01_Explore_screen](./docs/images/01_Explore_screen.png)

**Category screen** – підтягує назву категорії, підтримує сортування, пошук і нескінченну підвантажку з урахуванням збережених фільтрів та авторизації для обраного.

![02_Category_screen](./docs/images/02_Category_screen.png)

**Product details modal** – відкриває товар у модальному вікні з галереєю, характеристиками, додаванням у кошик і перевіркою авторизації для “вподобайки”.

![06_Product_modal](./docs/images/06_Product_modal.png)
![07_Product_modal_-_product_in_cart](./docs/images/07_Product_modal_-_product_in_cart.png)

**Favorites screen** – керує списком збережених товарів, пропонує логін, дає змогу відкривати модальне вікно товару та додавати позиції до кошика.

![08_Favorites_screen](./docs/images/08_Favorites_screen.png)

**Cart & checkout flow** – включає кошик із підрахунком суми й нагадуванням про логін, екран оформлення замовлення з формою та кроками, а також фінальний екран успіху з підсумком платежу.

![09_Cart_screen](./docs/images/09_Cart_screen.png)
![10_Order_screen](./docs/images/10_Order_screen.png)
![11_Order_screen_filled](./docs/images/11_Order_screen_filled.png)
![12_Success_screen](./docs/images/12_Success_screen.png)

**Search modal та Filter modal, Sort button** – забезпечують пошук у межах категорії з історією запитів та застосування комбінацій фільтрів за кольором, розміром і типом ниток, а також сортування за зростанням чи спаданням ціни.

![03_Filter_modal](./docs/images/03_Filter_modal.png)
![04_Sorting_activated](./docs/images/04_Sorting_activated.png)
![05_Search_modal](./docs/images/05_Search_modal.png)

**Authentication flow (Auth Gate, Login, Sign Up)** – описує стартовий редірект залежно від статусу користувача, екран входу з каруселлю і формою, а також екран реєстрації. Також є можливість швидкого переходу до застосунку без облікового запису.

![17_Log_in_screen](./docs/images/17_Log_in_screen.png)
![18_Sign_up_screen](./docs/images/18_Sign_up_screen.png)

**Profile drawer** – містить аватар і дані користувача, перемикач теми, кнопки для улюбленого та дій входу/виходу з відповідними підтвердженнями.

![13_Profile_drawer_-_loged_in_user](./docs/images/13_Profile_drawer_-_loged_in_user.png)
![16_Profile_drawer_-_not_loged_in_user](./docs/images/16_Profile_drawer_-_not_loged_in_user.png)
![15_Logout_confirmation_modal](./docs/images/15_Logout_confirmation_modal.png)
![14_White_theme](./docs/images/14_White_theme.png)
